<div *ngIf="isLoading">
    <gaandeweg-ws-loading-spinner></gaandeweg-ws-loading-spinner>
</div>
<div class="container-fluid" *ngIf="!isLoading">
    <div class="row">
        <div class="col-md-12">
            <h1>{{infoElement?.name || ''}}</h1>
        </div>
    <form [formGroup]="infoElementForm" (submit)="onSubmit()">
        <input type="hidden" *ngIf="infoElement?.id" formControlName="id" [value]="infoElement.id" />
        <div class="form-group mb-2">
            <label class="label">Naam van het info element</label>
            <input type="text" class="form-control" formControlName="name" [value]="infoElement?.name"/>
        </div>

        <div class="form-group mb-2">
            <label class="label">Categorie</label>
            <select class="form-control" formControlName="categoryId" [value]="infoElement?.categoryId">
                <option *ngFor="let category of categories" [value]="category.id">{{category.name}}</option>
            </select>
        </div>
        
        <div class="form-group mb-2">
            <label class="label">Definitie van het info element</label>
            <textarea class="form-control" formControlName="definition" [value]="infoElement?.definition"></textarea>
        </div>
    
        <div class="form-group mb-2" *ngIf="infoElement">
            <label class="label">Tekstinhoud van het info element</label>
            <gaandeweg-ws-wysiwyg [data]="infoElement.text" (changes)="dataChangedHandler(dataChanged)"></gaandeweg-ws-wysiwyg>
        </div>

        <div class="form-group mb-2" *ngIf="!infoElement">
            <div *ngIf="!infoElement">
                <gaandeweg-ws-loading-spinner></gaandeweg-ws-loading-spinner>
                <gaandeweg-ws-wysiwyg></gaandeweg-ws-wysiwyg>
            </div>
            
        </div>
    
        <button type="submit" class="btn btn-primary">
            <fa-icon [icon]="faFloppyDisk"></fa-icon>
            Opslaan
        </button>
    </form>
</div>